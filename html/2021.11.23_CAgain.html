
<!DOCTYPE html>
<html>
    <head>
        <title>C Again</title>
        <!-- metadata -->
        <meta charset="UTF-8">
<meta name="description" content="Playing with C and using Emacs">
<meta name="keywords" content="c, emacs, header, only, low, level, scripting">
<meta name="author" content="Eric Olson">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- css -->
        <link rel="stylesheet" href="assets/styles.css">
    </head>
    <body>
        <!-- page class -->
        <div class=pageLight>
            <!-- content wrapper -->
            <div class=contentWrapperLight>
                <!-- content -->
                <div   ><div   ><div   class="navbottomLight"><a id="previous_page_link" href="2021.11.22_Menus.html"  >ðŸ¡„ Previous</a>
<a id="next_page_link" href="2021.11.24_CContinued.html"  >Forward ðŸ¡†</a></div>
<div   class="navtopLight"><a id="homeNav" href="index.html"  >Home</a>
<a id="catalogNav" href="catalog.html"  >Catalog</a>
<a id="projectsNav" href="projects.html"  >Projects</a>
<a id="aboutMeNav" href="about_me.html"  >About Me</a></div></div>
<div   ><h2 id="title"  ><a  href="#title"  >#</a>
2021.11.23 - C Again</h2>
<div   >



<div   class="cardLight hoverShadowLight outlinedLight paddedbottomLight paddedtopLight shadowLight alignmentleftLight"><h3 id="0621"  ><a  href="#0621"  >#</a>
 0621</h3>
<div   ><p   >I'll admit, I flip flop a lot on projects. I do one thing, then pivot to something else. Such is life, I'm more concerned about the journey + learning things over shipping stuff.</p>
<p   >I do want to release my content pipeline at some point, but it isn't really a priority. Black Friday is coming up, and I'd like to dedicate some time on whatever platforms I post it on. I'll save it for after when things cool off.</p>
<p   >What will I be doing today? Experimenting with C libraries again.</p>
<p   >I don't expect much to come out of it, but with the churn in the Rust team lately I would like to dig into another system level language to hedge my bets against it failing. Don't get me wrong, I fully want Rust to succeed, but I want to make sure I get exposure to other low level languages that aren't C++.</p>
<p   >I'll want to use a lot of single header libraries for easy integration.</p>
<p   >Here's what I'd like to play with:</p>
<ul   class="listLight"><li><div   ><a  href="https://github.com/Immediate-Mode-UI/Nuklear"  >Nuklear</a>
 for GUI</div></li><li><div   ><a  href="https://github.com/floooh/sokol"  >Sokol</a>
 for a variety of GPU, sound, and other libs</div></li><li><div   ><a  href="https://ccrma.stanford.edu/software/snd/snd/s7.html"  >S7</a>
 or 
<a  href="https://duktape.org/"  >Duktape</a>
 for scripting</div></li><li><div   ><a  href="https://www.libsdl.org/"  >SDL2</a>
 for windowing + sound</div></li></ul>
<p   >I'll work on integrating Duktape since I've done that in the past. </p></div></div>
<div   class="cardLight hoverShadowLight outlinedLight paddedbottomLight paddedtopLight shadowLight alignmentleftLight"><h3 id="0655"  ><a  href="#0655"  >#</a>
 0655</h3>
<div   ><p   >Well, that was relatively painless. The proper way to go about building this would likely be a <span   class="codeblockDark outlinedDark">make</span> file, but I wanted to simply use a bash script as that's what I know.</p>
<div   class="codeblockDark contentWrapperLight hoverShadowLight outlinedDark paddedbottomLight paddedtopLight shadowLight">
# compile.sh
[ -d target ] &amp;&amp;rm -R target
mkdir target
gcc -std=c99 -Ilib/duktape src/main.c lib/duktape/duktape.c -lm -o target/game

./target/game.exe
</div>
<p   >Next up I simply took the Duktape tutorial and wired that into a program.</p>
<div   class="codeblockDark contentWrapperLight hoverShadowLight outlinedDark paddedbottomLight paddedtopLight shadowLight">
#include &lt;stdio.h>
#include "duktape.h"

int main(int argc, char *argv[])
{
	duk_context *ctx = duk_create_heap_default();
	duk_eval_string(ctx, "1+2");
	printf("1+2=%d\n", (int)duk_get_int(ctx, -1));
	duk_destroy_heap(ctx);
	return 0;
}
</div>
<p   >There is a ton of work left to do, but I am up and running. The nice thing about using JavaScript is it is a language I am familiar with and I can also use some altJS languages if I really wanted to bring something else into play. Eventually I'll want to add in hot reloading, but that can be deferred a bit.</p>
<p   >I think the next step for my project will be to integrate SDL2, Nuklear and Sokol. From there I effectively have a full development environment I can utilize.</p></div></div></div></div></div>
            </div>
        </div>
    </body>
</html>
