
<!DOCTYPE html>
<html>
    <head>
        <title>C Continued</title>
        <!-- metadata -->
        <meta charset="UTF-8">
<meta name="description" content="Mucking with Makefile, linking and compiling.">
<meta name="keywords" content="c, emacs, header, only, low, level, scripting">
<meta name="author" content="Eric Olson">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- css -->
        <link rel="stylesheet" href="assets/styles.css">
    </head>
    <body>
        <!-- page class -->
        <div class=pageLight>
            <!-- content wrapper -->
            <div class=contentWrapperLight>
                <!-- content -->
                <div   ><div   ><div   class="navbottomLight"><a id="previous_page_link" href="2021.11.23_CAgain.html"  >ðŸ¡„ Previous</a>
Forward ðŸ¡†</div>
<div   class="navtopLight"><a id="homeNav" href="index.html"  >Home</a>
<a id="catalogNav" href="catalog.html"  >Catalog</a>
<a id="projectsNav" href="projects.html"  >Projects</a>
<a id="aboutMeNav" href="about_me.html"  >About Me</a></div></div>
<div   ><h2 id="title"  ><a  href="#title"  >#</a>
2021.11.24 - C Continued</h2>
<div   >



<div   class="cardLight hoverShadowLight outlinedLight paddedbottomLight paddedtopLight shadowLight alignmentleftLight"><h3 id="0628"  ><a  href="#0628"  >#</a>
 0628</h3>
<div   ><p   >I'm not gonna lie, Makefiles are stupid. Coming from Cargo (Rust's package management) dealing with Makefiles is horrid.</p></div></div>
<div   class="cardLight hoverShadowLight outlinedLight paddedbottomLight paddedtopLight shadowLight alignmentleftLight"><h3 id="0745"  ><a  href="#0745"  >#</a>
 0745</h3>
<div   ><p   >Finally hacked together something that should make life easier. Feel free to use it if you'd like. A project should be structured like so:</p>
<ul   class="listLight"><li><div   >Top Level</div></li><li><div   ><ul   class="listLight"><li><div   >.obj/</div></li></ul></div></li><li><div   ><ul   class="listLight"><li><div   >include/</div></li></ul></div></li><li><div   ><ul   class="listLight"><li><div   >src/</div></li></ul></div></li><li><div   ><ul   class="listLight"><li><div   >Makefile</div></li></ul></div></li></ul>
<div   class="codeblockDark contentWrapperLight hoverShadowLight outlinedDark paddedbottomLight paddedtopLight shadowLight">
# Makefile

# Compiler related flags
CC=gcc
CFLAGS=-Werror -Wall -Wextra -Wpedantic 
EXE = game

# Directories
INCLUDE = include
OBJ = .obj
SRC = src

# Misc sourcing of files
SOURCES := $(wildcard $(SRC)/*.c)
OBJECTS := $(patsubst $(SRC)%.c, $(OBJ)/%.o, $(SOURCES))

all: $(OBJECTS) $(EXE)

# Compile all obj files
$(OBJ)/%.o: $(SRC)/%.c
	$(CC) $(CFLAGS) -I$(INCLUDE) -c $&lt; -o $@

# Link everything
$(EXE):
	$(CC) -o $(EXE) $(OBJECTS)

# Clean things
.PHONY: clean
clean: 
	rm $(OBJ)/*.o
</div>
<p   >Using this allows one to source + link all C and header files. I'm sure it will change over time, but it's good enough for now.</p></div></div></div></div></div>
            </div>
        </div>
    </body>
</html>
